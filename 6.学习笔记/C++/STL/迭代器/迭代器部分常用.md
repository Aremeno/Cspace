# 迭代器常用内容

迭代器这个内容有一些复杂，以下主要记录一些常用的内容。目的：算法和工作常用。

## 最常用的迭代器

### 基本遍历方式

```cpp
vector<int> vec = {1, 2, 3, 4, 5};

// 普通迭代器（最常用）
for (auto it = vec.begin(); it != vec.end(); ++it) {
    cout << *it << " ";
}

// 反向迭代器
for (auto rit = vec.rbegin(); rit != vec.rend(); ++rit) {
    cout << *rit << " ";
}

// 范围for 循环（C++11及以上）
for (int value : vec) {
    cout << value << " ";
}
```

### 容器的迭代器类型

只要了解常用容器的迭代器类型，然后知道具体的迭代器类型的用法即可。

## 算法题必备

### 插入元素

```cpp
vector<int> vec = {1, 2, 3, 4, 5};
auto it = vec.begin() + 2; // 指向第三个元素
vec.insert(it, 10); // 在第三个位置插入10
```

### 删除元素

```cpp
vector<int> vec = {1, 2, 3, 4, 5};
auto it = vec.begin() + 2; // 指向第三个元素
vec.erase(it); // 删除第三个元素
// 注意删除之后it失效

// 遍历删除（慎用，容易出错）
for (auto it = vec.begin(); it != vec.end(); ) {
    if (*it % 2 == 0) {
        it = vec.erase(it); // 删除偶数元素，erase返回下一个有效迭代器
    } else {
        ++it; // 仅当不删除时才递增迭代器
    }
}
```

### 查找和修改元素

```cpp
vector<int> vec = {1, 2, 3, 4, 5};
auto it = find(vec.begin(), vec.end(), 3); // 查找值为3的元素
if (it != vec.end()) {
    cout << "找到3，位置：" << distance(vec.begin(), it) << endl;
}

// 二分查找（前提是容器已排序）
sort(vec.begin(), vec.end());

```