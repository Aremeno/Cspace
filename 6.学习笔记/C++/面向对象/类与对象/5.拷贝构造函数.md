# 拷贝构造函数

拷贝构造函数是一种特殊的构造函数，用于创建一个对象作为另一个同类型对象的副本。通常用于：

- 通过使用现有对象初始化新对象
- 复制对象把它传递给函数
- 复制对象，从函数返回对象

如果没有显式定义拷贝构造函数，编译器会自动生成一个默认的拷贝构造函数。但是如果类带有指针变量，并有动态内存分配，那必须自定义拷贝构造函数，以避免浅拷贝带来的问题。

例子：

```cpp
#include <iostream>

using namespace std;

class Line {
    public:
        int getLength( void ){
            return *ptr;
        }
        
        // 默认构造函数
        Line(int len) {
            cout << "默认构造函数调用" << endl;
            ptr = new int;
            *ptr = len;
        }

        // 拷贝构造函数
        Line(const Line &obj) {
            cout << "拷贝构造函数调用" << endl;
            ptr = new int;
            *ptr = *(obj.ptr); // 深拷贝
        }
        ~Line() {
            cout << "析构函数调用" << endl;
            delete ptr;
        }
        void display(Line obj) {
            cout << "Line length: " << obj.getLength() << endl;
        }
    private:
        int *ptr;
};

int main() {
    Line line1(10);          // 调用默认构造函数
    Line line2 = line1;     // 调用拷贝构造函数

    line1.display(line2);   // 传递对象，调用拷贝构造函数

    return 0;
}
```