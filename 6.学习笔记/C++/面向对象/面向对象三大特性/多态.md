# 类的三大核心特性

## 多态（Polymorphism）

同一操作作用于不同的对象，可以有不同的解释和不同的执行结果。多态通常通过虚函数实现。

例子：

```cpp
class Shape {
protected:
    string name;

public:
    Shape(string n) : name(n) {}

    // 虚函数(实现多态的关键)
    virtual double area() const {
        cout << "计算形状面积" << endl;
        return 0;
    }

    virtual void draw() const {
        cout << "绘制形状" << endl;
    }

    virtual ~Shape() {
        cout << "销毁Shape对象" << endl;
    }
};

class Circle : public Shape {
private:
    double radius;

public:
    Circle(string n, double r) : Shape(n), radius(r) {}

    double area() const override {
        return 3.14159 * radius * radius;
    }

    void draw() const override {
        cout << "绘制圆形" << name << "，半径为" << radius << endl;  
    }

};

class Rectangle : public Shape {
private:
    double width,height;

public:
    Rectangle(string n,double w,double h) :Shape(n),width(w),height(h) {}

    double area() const override {
        return width * height;
    }

    void draw() const override {
        cout << "绘制矩形" << name << "，宽为" << width << "，高为" << height << endl;

    }
};

class Triangle : public Shape {
private:
    double base,height;
public:
    Triangle(string n,double b,double h) :Shape(n),base(b),height(h) {}

    double area() const override {
        return 0.5 * base * height;
    }

    void draw() const override {
        cout << "绘制三角形" << name << "，底为" << base << "，高为" << height << endl;

    }
};

int main() {
    // 多态的魅力（基类指针指向派生类对象）
    Shape* shapes[3];
    shapes[0] = new Circle("Circle1", 5.0);
    shapes[1] = new Rectangle("Rectangle1", 4.0, 6.0);
    shapes[2] = new Triangle("Triangle1", 3.0, 4.0);
    for (int i = 0; i < 3; ++i) {
        shapes[i]->draw();
        cout << "Area: " << shapes[i]->area() << endl;
        cout << endl;
    }

    // 释放内存
    for (int i = 0; i < 3; ++i) {
        delete shapes[i];
    }
    return 0;
}
```